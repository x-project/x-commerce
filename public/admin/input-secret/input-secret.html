<link rel="import" href="../../components/iron-flex-layout/iron-flex-layout.html"
<link rel="import" href="../../styles/style-field/style-field.html">
<link rel="import" href="../../styles/style-form/style-form.html">
<link rel="import" href="../../styles/style-label/style-label.html">
<dom-module id="input-secret">
  <template>
    <style include="style-form"></style>
    <style include="style-field"></style>
    <style include="style-label"></style>
    <style>
      .secret {
        @apply(--layout-horizontal);
        border: 1px red solid;
        line-height: 1.5;
        color: #55595c;
        background-color: #fff;
        background-image: none;
        border: .0625rem solid #ccc;
        border-radius: .25rem;
      }
      .field .secret input.form-control {
        border: 0;
        width: 100%;
      }
      i {
        margin: auto 6px auto 1px;
      }
    </style>

    <div class="panel-form">
      <div class="field">
        <label class="label">[[label]]</label>
        <div class="secret">
            <input class="form-control" id="private_key" type="password"
              is="iron-input" bind-value="{{private_key}}">
            <i class="fa fa-eye fa-lg" style$="{{style}}"
              on-click="on_click_show_private_key">
            </i>
        </div>
      </div>
    </div>

  </template>

</dom-module>
<script>
  Polymer({

    is: 'input-secret',

    properties: {
      label: {
        type: String,
        value: ''
      },
      private_key: {
        type: String,
        notify: true
      }
    },

    on_click_show_private_key: function (event) {
      event.stopPropagation();
      if (this.$.private_key.type === 'password') {
        this.$.private_key.type = 'text';
        this.style = 'color: #0275d8;';
        return;
      }
      this.$.private_key.type = 'password';
      this.style = 'color: black;';
      return;
    }

  });
</script>