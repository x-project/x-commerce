<link rel="import" href="input-search-datalist.html">
<dom-module id="input-search">
  <template>
    <style>
      :host {
        display: block;
      }

      #container {
        width: 100%;
        position: relative;
      }

      #search {
        width: 100%;
        @apply(--input-search);
      }

      #search:focus {
        outline: none;
        @apply(--input-search-focused);
      }

      #datalist {
        width: 100%;
        position: absolute;
        background: white;
      }
    </style>

    <div id="container">
      <input id="search" type="text" placeholder="search"
        on-keydown="on_keydown">
      <input-search-datalist id="datalist" items="{{items}}"></input-search-datalist>
    </div>

  </template>
</dom-module>
<script>
  Polymer({

    is: 'input-search',

    properties: {
      items: {
        type: Array,
        value: function () { return []; }
      }
    },

    on_keydown: function (event) {
      if (event.keyCode === 38) {
        this.$.datalist.select_prev();
        event.preventDefault();
      }
      if (event.keyCode === 40) {
        this.$.datalist.select_next();
      }
      this.$.search.focus();
    }

  });
</script>